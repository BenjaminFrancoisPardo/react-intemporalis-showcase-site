"use strict";(self.webpackChunkhtml_css=self.webpackChunkhtml_css||[]).push([[691],{691:(e,a,t)=>{t.r(a),t.d(a,{default:()=>h}),t(5666),t(8309),t(2564),t(9554),t(1539),t(4747),t(6699),t(2479),t(7327),t(4553),t(9601),t(3210),t(4678),t(6977),t(1249),t(9753),t(2526),t(1817),t(2165),t(6992),t(8783),t(3948),t(7042),t(1038),t(4916),t(8674);var r=t(7294),n=t(195),s=t(6493),l=t(8966),m=t.n(l),u=t(9669),o=t.n(u),i=t(8528),c=t(1919),v=t(3694);function p(e,a,t,r,n,s,l){try{var m=e[s](l),u=m.value}catch(e){return void t(e)}m.done?a(u):Promise.resolve(u).then(r,n)}function d(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,n,s=[],l=!0,m=!1;try{for(t=t.call(e);!(l=(r=t.next()).done)&&(s.push(r.value),!a||s.length!==a);l=!0);}catch(e){m=!0,n=e}finally{try{l||null==t.return||t.return()}finally{if(m)throw n}}return s}}(e,a)||function(e,a){if(e){if("string"==typeof e)return f(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(e,a):void 0}}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,r=new Array(a);t<a;t++)r[t]=e[t];return r}const h=function(){var e=(0,r.useContext)(v.Z),a=document.querySelector(".drop-area"),t=document.getElementById("file-input"),l=document.body,u=document.querySelector(".loader-wrapper"),f=d((0,r.useState)([]),2),h=f[0],g=f[1],E=d((0,r.useState)(0),2),y=E[0],b=E[1],N=d((0,r.useState)(!1),2),j=N[0],C=N[1],M=d((0,n.C)((function(e,a){switch(a.type){case"surnameImmediatly":return e.surname.hasErrors=!1,e.surname.value=a.value,""==e.surname.value&&(e.surname.hasErrors=!0,e.surname.message="Ce champ est requis."),void(""==e.surname.value||m().isAlpha(e.surname.value,"fr-FR",{ignore:" -"})||(e.surname.hasErrors=!0,e.surname.message="Ce champ n'accepte que des lettres, tirets et espaces."));case"surnameOnBlur":return void(""==e.surname.value&&(e.surname.hasErrors=!0,e.surname.message="Ce champ est requis."));case"nameImmediatly":return e.name.hasErrors=!1,e.name.value=a.value,""==e.name.value&&(e.name.hasErrors=!0,e.name.message="Ce champ est requis."),void(""==e.name.value||m().isAlpha(e.name.value,"fr-FR",{ignore:" -"})||(e.name.hasErrors=!0,e.name.message="Ce champ n'accepte que des lettres, tirets et espaces."));case"nameOnBlur":return void(""==e.name.value&&(e.name.hasErrors=!0,e.name.message="Ce champ est requis."));case"companyImmediatly":return void(e.company.value=a.value);case"phoneImmediatly":return e.phone.hasErrors=!1,void(e.phone.value=a.value);case"phoneAfterDelay":return void(m().isMobilePhone(e.phone.value)||(e.phone.hasErrors=!0,e.phone.message="Ce format de numéro n'est pas valide."));case"phoneOnBlur":return void(""==e.phone.value&&(e.phone.hasErrors=!0,e.phone.message="Ce champ est requis."));case"emailImmediatly":return e.email.hasErrors=!1,void(e.email.value=a.value);case"emailAfterDelay":return void(m().isEmail(e.email.value)||(e.email.hasErrors=!0,e.email.message="Ce champ nécessite une adresse email."));case"emailOnBlur":return void(""==e.email.value&&(e.email.hasErrors=!0,e.email.message="Ce champ est requis."));case"objectImmediatly":return e.object.hasErrors=!1,void(e.object.value=a.value);case"objectOnBlur":return void(""==e.object.value&&(e.object.hasErrors=!0,e.object.message="Ce champ est requis."));case"messageImmediatly":return e.message.hasErrors=!1,void(e.message.value=a.value);case"messageOnBlur":return void(""==e.message.value&&(e.message.hasErrors=!0,e.message.message="Ce champ est requis."));case"emptyFields":return e.surname.value="",e.name.value="",e.company.value="",e.phone.value="",e.email.value="",e.object.value="",void(e.message.value="");case"justSubmitted":return void(e.isJustSubmitted=!0);case"removeJustSubmitted":return void(e.isJustSubmitted=!1)}}),{surname:{value:"",hasErrors:!1,message:""},name:{value:"",hasErrors:!1,message:""},company:{value:""},phone:{value:"",hasErrors:!1,message:""},email:{value:"",hasErrors:!1,message:""},object:{value:"",hasErrors:!1,message:""},message:{value:"",hasErrors:!1,message:""},isJustSubmitted:!1}),2),x=M[0],O=M[1];(0,r.useEffect)((function(){1==x.isJustSubmitted&&setTimeout((function(){O({type:"removeJustSubmitted"})}),5e3)}),[x.isJustSubmitted]),(0,r.useEffect)((function(){if(x.phone.value){var e=setTimeout((function(){return O({type:"phoneAfterDelay"})}),800);return function(){return clearTimeout(e)}}}),[x.phone.value]),(0,r.useEffect)((function(){if(x.email.value){var e=setTimeout((function(){return O({type:"emailAfterDelay"})}),800);return function(){return clearTimeout(e)}}}),[x.email.value]),(0,r.useEffect)((function(){var a=window.location.pathname;e({type:"updateURL",url:a})}),[]),(0,r.useEffect)((function(){u&&j&&(B(),C(!1))})),(0,r.useEffect)((function(){h.length>0&&a.classList.contains("active")&&a.classList.remove("active")}),[h]);var _=function(e){var a=e,t=Object.values(a),r=0;(function(e){var a=["image/png","image/jpeg","image/jpg","application/pdf"],t=y,r=!0;return e.forEach((function(e){t+=e.size,a.includes(e.type)||(alert("Seuls les formats suivants sont acceptés : jpg, jpeg, png, pdf."),r=!1)})),t>15e6&&(alert("The total size of your attachments cannot exceed 15 Mo."),r=!1),r&&b(t),r})(t)&&(I(),t.forEach((function(e,a,t){var n=new FileReader;n.onload=function(){var a=n.result,s={name:e.name,type:e.type,size:e.size,url:a},l=h;l.push(s),l=l.filter((function(e,a,t){return a===t.findIndex((function(a){return a.place===e.place&&a.name===e.name}))})),l!==h&&g(l),(r+=1)==t.length&&C(!0)},n.readAsDataURL(e)})))},w=function(e){e.preventDefault();var a,t=e.target.parentElement.id,r=h;r=r.filter((function(e){var r=e.name===t;return r&&(a=y-e.size),!r})),b(a),g(r)},S=function(){var e,a=(e=regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),x.surname.hasErrors||x.name.hasErrors||x.phone.hasErrors||x.email.hasErrors||x.object.hasErrors||x.message.hasErrors){e.next=19;break}return Object.assign({},x,{attachments:h}),e.prev=3,e.next=6,o().post("/api/sendMail",{surname:x.surname.value.trim(),name:x.name.value.trim(),company:x.company.value.trim(),email:x.email.value,phone:x.phone.value,object:x.object.value.trim(),message:x.message.value.trim(),attachments:h});case 6:console.log("Mail successfully sent."),O({type:"emptyFields"}),g([]),b(0),O({type:"justSubmitted"}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0.response),alert("Un problème est survenu et votre message n'a pas été envoyé.");case 17:e.next=20;break;case 19:alert("Au moins un des champs du formulaire n'est pas correctement rempli.");case 20:case"end":return e.stop()}}),e,null,[[3,13]])})),function(){var a=this,t=arguments;return new Promise((function(r,n){var s=e.apply(a,t);function l(e){p(s,r,n,l,m,"next",e)}function m(e){p(s,r,n,l,m,"throw",e)}l(void 0)}))});return function(e){return a.apply(this,arguments)}}(),I=function(){l.style.overflow="hidden";var e=window.scrollY;u.style.top="".concat(e,"px"),u.classList.add("active")},B=function(){l.style.overflow="visible",u.classList.remove("active")};return r.createElement(i.Z,{title:"Contact"},r.createElement(c.Z,null,r.createElement("div",{className:"contact__info"},r.createElement("a",{href:"tel:+33671842273"},"06 71 84 22 73"),r.createElement("a",{href:"mailto:bpardo@intemporalis.fr"},"bpardo@intemporalis.fr"),r.createElement("img",{src:"../assets/infinity.svg",alt:"Symbole infini"})),r.createElement("p",{className:"contact__paragraph"},"N'hésitez pas à utiliser le formulaire ci-dessous pour me présenter votre projet et vos besoins. Ajoutez toutes les ressources nécessaires en pièces-jointes."),r.createElement("form",{onSubmit:S},r.createElement(s.Z,{in:x.surname.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.createElement("div",{className:"error-message liveValidateMessage"},x.surname.message)),r.createElement("div",{className:"form__entry"},r.createElement("label",{htmlFor:"surname"},"Nom*"),r.createElement("input",{onBlur:function(e){return O({type:"surnameOnBlur",value:e.target.value})},onChange:function(e){return O({type:"surnameImmediatly",value:e.target.value})},value:x.surname.value,name:"surname",id:"surname",type:"text",autoFocus:!0,required:!0,className:x.surname.hasErrors?"error":""})),r.createElement(s.Z,{in:x.name.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.createElement("div",{className:"error-message liveValidateMessage"},x.name.message)),r.createElement("div",{className:"form__entry"},r.createElement("label",{htmlFor:"name"},"Prénom*"),r.createElement("input",{onBlur:function(e){return O({type:"nameOnBlur",value:e.target.value})},onChange:function(e){return O({type:"nameImmediatly",value:e.target.value})},value:x.name.value,name:"name",id:"name",type:"text",required:!0,className:x.name.hasErrors?"error":""})),r.createElement("div",{className:"form__entry"},r.createElement("label",{htmlFor:"company"},"Entreprise"),r.createElement("input",{onChange:function(e){return O({type:"companyImmediatly",value:e.target.value})},value:x.company.value,name:"company",id:"company",type:"text"})),r.createElement(s.Z,{in:x.phone.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.createElement("div",{className:"error-message liveValidateMessage"},x.phone.message)),r.createElement("div",{className:"form__entry"},r.createElement("label",{htmlFor:"phone"},"Téléphone*"),r.createElement("input",{onBlur:function(e){return O({type:"phoneOnBlur",value:e.target.value})},onChange:function(e){return O({type:"phoneImmediatly",value:e.target.value})},value:x.phone.value,name:"phone",id:"phone",type:"tel",required:!0,className:x.phone.hasErrors?"error":""})),r.createElement(s.Z,{in:x.email.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.createElement("div",{className:"error-message liveValidateMessage"},x.email.message)),r.createElement("div",{className:"form__entry"},r.createElement("label",{htmlFor:"email"},"Email*"),r.createElement("input",{onBlur:function(e){return O({type:"emailOnBlur",value:e.target.value})},onChange:function(e){return O({type:"emailImmediatly",value:e.target.value})},value:x.email.value,name:"email",id:"email",type:"email",required:!0,className:x.email.hasErrors?"error":""})),r.createElement(s.Z,{in:x.object.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.createElement("div",{className:"error-message liveValidateMessage"},x.object.message)),r.createElement("div",{className:"form__entry"},r.createElement("label",{htmlFor:"object"},"Objet*"),r.createElement("input",{onBlur:function(e){return O({type:"objectOnBlur",value:e.target.value})},onChange:function(e){return O({type:"objectImmediatly",value:e.target.value})},value:x.object.value,name:"object",id:"object",required:!0,type:"text",className:x.object.hasErrors?"error":""})),r.createElement(s.Z,{in:x.message.hasErrors,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.createElement("div",{className:"error-message liveValidateMessage"},x.message.message)),r.createElement("div",{className:"form__entry"},r.createElement("label",{htmlFor:"message"},"Message*"),r.createElement("textarea",{onBlur:function(e){return O({type:"messageOnBlur",value:e.target.value})},onChange:function(e){return O({type:"messageImmediatly",value:e.target.value})},value:x.message.value,name:"message",id:"message",required:!0,rows:"8",className:x.message.hasErrors?"error":""})),r.createElement("div",{className:"form__entry"},r.createElement("label",{htmlFor:"file-input"},"Pièce(s)-jointe(s)"),r.createElement("div",{className:"drop-area",onDragOver:function(e){e.preventDefault(),a.classList.add("active")},onDragLeave:function(e){e.preventDefault(),a.classList.remove("active")},onDrop:function(e){e.preventDefault(),_(e.dataTransfer.files)}},r.createElement("header",null,"Glisser-déposer"),r.createElement("span",null,"ou"),r.createElement("button",{onClick:function(e){e.preventDefault(),a.classList.add("active"),t.click()}},"Parcourir"),r.createElement("input",{id:"file-input",type:"file",hidden:!0,name:"file-input",onChange:function(e){_(e.target.files)}}))),r.createElement("div",{className:"form-entry"},r.createElement("ul",{className:"file-list"},h.map((function(e){return r.createElement("li",{key:e.name,id:e.name},r.createElement("a",{href:e.url,target:"_blank"},(25,(a=e.name).length>25?a.substr(0,24)+"...":a)),r.createElement("button",{onClick:w},r.createElement("i",{className:"fa-solid fa-xmark"})));var a})))),r.createElement("small",null,function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 octets";var t=1024,r=a<0?0:a,n=["octets","Ko","Mo","Go","To","Po","Eo","Zo","Yo"],s=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,s)).toFixed(r))+" "+n[s]}(y)," / 15Mo"),r.createElement("small",null,"* Champ obligatoire"),r.createElement("div",{className:"form__submit-wrapper"},r.createElement("input",{className:"main-button",type:"submit",value:"Envoyer"}),r.createElement("p",null,"Un petit ",r.createElement("span",{className:"secondary-clr"},"click")," pour vous, un grand pas pour votre"," ",r.createElement("span",{className:"secondary-clr"},"projet")," !")),r.createElement(s.Z,{in:x.isJustSubmitted,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.createElement("div",{className:"success-message liveValidateMessage"},"Votre message a été envoyé avec succès.")))),r.createElement("div",{className:"loader-wrapper"},r.createElement("img",{src:"../assets/infinity.svg",alt:"Infinity icon"})))}}}]);